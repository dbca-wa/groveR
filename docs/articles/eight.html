<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Calculating trends • groveR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculating trends">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">groveR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dbca-wa/groveR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculating trends</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dbca-wa/groveR/blob/HEAD/vignettes/eight.Rmd" class="external-link"><code>vignettes/eight.Rmd</code></a></small>
      <div class="d-none name"><code>eight.Rmd</code></div>
    </div>

    
    
<div class="float">
<img src="../reference/figures/tree_logo_small.png" alt="groveR logo"><div class="figcaption">groveR logo</div>
</div>
<div class="section level2">
<h2 id="purpose">Purpose<a class="anchor" aria-label="anchor" href="#purpose"></a>
</h2>
<p>The next stage is to calculate both trends and trend classes for easy
interpretation. Vegetation classes can jump around, especially on the
edges of mangroves, however trends give a better longer term perspective
on what changes are occurring. The raster outputs can be used to
spatially visualise where change is occurring and will later be used as
inputs to calculate areas.</p>
</div>
<div class="section level2">
<h2 id="use-the-trend_class-function">Use the trend_class() function<a class="anchor" aria-label="anchor" href="#use-the-trend_class-function"></a>
</h2>
<p>The <code><a href="../reference/trend_class.html">trend_class()</a></code> function will perform a per pixel
linear regression and then classify the values into 5 bins which
correspond to the trend classes; major gain (1), minor gain (2), stable
(3), minor loss (4) and major loss (5).</p>
<p>The bins are drawn from the
<code>supplementary/trend_classes.csv</code> and like other
supplementary data should be checked for validity for your area of
interest. The trend class bins look like the below.</p>
<div class="float">
<img src="../reference/figures/trends.png" alt="Trend classes"><div class="figcaption"><em>Trend classes</em></div>
</div>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The general form of the function is (NOTE the default parameters)</span></span>
<span><span class="co"># trend_class(irast, areaname, end, period = 10, classes = "supplementary/trend_classes.csv", ext = ".tif")</span></span>
<span></span>
<span><span class="co"># We  need to assign three of the parameters as the other defaults are fine</span></span>
<span><span class="va">irast</span> <span class="op">&lt;-</span> <span class="st">"veg_dens_mskd_cld"</span></span>
<span><span class="va">areaname</span> <span class="op">&lt;-</span> <span class="st">"lgcsmp_lsat"</span></span>
<span><span class="va">end</span> <span class="op">&lt;-</span> <span class="fl">2023</span></span>
<span></span>
<span><span class="co"># Run the function</span></span>
<span><span class="fu"><a href="../reference/trend_class.html">trend_class</a></span><span class="op">(</span><span class="va">irast</span>, <span class="va">areaname</span>, end <span class="op">=</span> <span class="fl">2023</span><span class="op">)</span></span></code></pre></div>
<ul>
<li><p><strong>irast</strong> - input vegetation density
directory.</p></li>
<li><p><strong>areaname</strong> - a geographical area or marine park
name for the output rasters.</p></li>
<li><p><strong>end</strong> - the end year of the time series to
consider (usually the latest).</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="whats-going-to-happen">What’s going to happen?<a class="anchor" aria-label="anchor" href="#whats-going-to-happen"></a>
</h2>
<p>Two rasters are going to be created. One will be to show the per
pixel result of the regression. The second will be the same data but
reclassed according to the trend class bins in the supplementary
csv.</p>
<p><strong>NOTE on regression time periods</strong> The default period
for the regressions is 10 years and any missing years will be buffered
(dummy year inserted). The user can choose any period but no less than
3. Be aware though that identical slope values over different period
lengths can equate to drastically different amounts of absolute change.
The classification bins shipped with the data have been determined for a
10 year period and will be either too sensitive or not sensitive enough
to other period lengths.</p>
<p><strong>NOTE on cloud handling in regressions</strong> If pixels have
been encoded as cloud, the value is swapped to NA as any numerical value
will adversely affect the regression.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bart Huntley.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
